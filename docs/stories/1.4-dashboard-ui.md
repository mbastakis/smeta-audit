# Story 1.4: React Dashboard UI with Navigation Cards

## Status
**Ready for Review**

---

## Story

**As an** HR manager,  
**I want** a visual dashboard with cards for each pillar, KPIs, and CAPA,  
**so that** I can quickly navigate to different sections during the audit.

---

## Acceptance Criteria

1. Dashboard component renders with header "SMETA Compliance Documentation Platform" and subtitle "Organized Evidence for Audit Excellence"
2. Six navigation cards displayed in 2 rows × 3 columns grid layout using Material-UI Grid and Card components
3. Each card displays: Icon (unique per section), Title (e.g., "Pillar 1: Labour Standards"), Document count badge (fetched from `/api/documents/counts`)
4. Cards have hover effect (slight elevation increase) and click handler that navigates to pillar view using React Router
5. Global search bar rendered in top AppBar (functional in Epic 2, placeholder for now with "Search..." text)
6. Upload button rendered in top-right corner with "Upload Document" label and upload icon
7. Layout is responsive: cards stack vertically on smaller screens (< 960px width)
8. Material-UI theme configured with navy primary color (#1a365d) and green accent color (#38a169)
9. Loading state: Shows skeleton cards while fetching document counts from API

---

## Tasks / Subtasks

- [x] Setup Material-UI theme (AC: 8)
  - [x] Create theme.ts with navy primary (#1a365d) and green accent (#38a169)
  - [x] Configure typography (Roboto font)
  - [x] Wrap App with ThemeProvider

- [x] Create AppBar component (AC: 5, 6)
  - [x] Add app title in AppBar
  - [x] Add placeholder search bar (disabled, with tooltip "Available in Epic 2")
  - [x] Add Upload button with icon

- [x] Create Dashboard component (AC: 1, 2, 3)
  - [x] Create Dashboard.tsx page
  - [x] Add hero header and subtitle
  - [x] Create 6 navigation cards in Grid layout (2×3)
  - [x] Assign unique icons per card (WorkIcon, HealthIcon, BusinessIcon, NatureIcon, ChartIcon, AssignmentIcon)
  - [x] Add card titles: "Pillar 1: Labour Standards", "Pillar 2: Health & Safety", etc.

- [x] Fetch and display document counts (AC: 3, 9)
  - [x] Create documentService.ts API client
  - [x] Create useDocumentCounts custom hook
  - [x] Fetch counts from /api/documents/counts on mount
  - [x] Display loading skeleton while fetching
  - [x] Display count badges on cards

- [x] Implement card navigation (AC: 4)
  - [x] Setup React Router with routes
  - [x] Add onClick handlers to navigate to pillar views
  - [x] Add hover effect (elevation change)
  - [x] Add cursor pointer on hover

- [x] Implement responsive layout (AC: 7)
  - [x] Use MUI Grid with responsive breakpoints
  - [x] Test on 1366×768 and 1920×1080 resolutions

---

## Dev Notes

### Material-UI Theme Configuration

```typescript
import { createTheme } from '@mui/material/styles';

export const theme = createTheme({
  palette: {
    primary: {
      main: '#1a365d', // Navy blue
    },
    secondary: {
      main: '#38a169', // Green
    },
    background: {
      default: '#f7fafc',
    },
  },
  typography: {
    fontFamily: 'Roboto, Arial, sans-serif',
    h4: {
      fontWeight: 600,
    },
  },
});
```

### Dashboard Card Structure

```typescript
const dashboardCards = [
  { id: 'pillar-1', title: 'Pillar 1: Labour Standards', icon: <WorkIcon />, route: '/pillar/pillar-1' },
  { id: 'pillar-2', title: 'Pillar 2: Health & Safety', icon: <LocalHospitalIcon />, route: '/pillar/pillar-2' },
  { id: 'pillar-3', title: 'Pillar 3: Business Ethics', icon: <BusinessCenterIcon />, route: '/pillar/pillar-3' },
  { id: 'pillar-4', title: 'Pillar 4: Environment', icon: <NatureIcon />, route: '/pillar/pillar-4' },
  { id: 'kpis', title: 'KPIs Dashboard', icon: <AssessmentIcon />, route: '/kpis' },
  { id: 'capa', title: 'CAPA Tracker', icon: <AssignmentIcon />, route: '/capa' },
];
```

### API Service Pattern

```typescript
import axios from 'axios';

const API_BASE = import.meta.env.VITE_API_URL;

export const documentService = {
  getCounts: async () => {
    const response = await axios.get(`${API_BASE}/documents/counts`);
    return response.data;
  },
};
```

---

## Testing

- Verify dashboard renders with 6 cards
- Verify document counts display correctly
- Test card navigation (click each card)
- Test hover effects
- Test on different screen sizes (1366×768, 1920×1080)
- Verify loading skeleton shows while fetching

---

## Dev Agent Record

### Agent Model Used
Claude 3.7 Sonnet (opencode)

### Debug Log References
None - Implementation completed without issues

### Completion Notes
- Created Material-UI theme with navy (#1a365d) primary and green (#38a169) accent colors
- Implemented AppBar component with placeholder search (disabled) and upload button
- Built Dashboard component with hero header and 6 navigation cards (2×3 grid)
- Integrated document counts API using custom useDocumentCounts hook
- Added loading skeletons while fetching data
- Implemented React Router for navigation with hover effects
- Responsive layout works on all breakpoints using MUI Grid (xs=12, sm=6, md=4)
- All tests passing (5/5 theme configuration tests)
- Build successful with no errors

### File List
**New Files Created:**
- `frontend/src/theme.ts` - Material-UI theme configuration
- `frontend/src/types/document.ts` - TypeScript interfaces for Document and DocumentCounts
- `frontend/src/services/documentService.ts` - API client for document operations
- `frontend/src/hooks/useDocumentCounts.ts` - Custom React hook for fetching document counts
- `frontend/src/components/layout/AppBar.tsx` - Top navigation bar component
- `frontend/src/pages/Dashboard.tsx` - Main dashboard page with navigation cards
- `frontend/tests/theme.test.ts` - Unit tests for theme configuration
- `frontend/vitest.config.ts` - Vitest configuration

**Modified Files:**
- `frontend/src/main.tsx` - Updated to use new theme from theme.ts
- `frontend/src/App.tsx` - Integrated AppBar, Dashboard, and React Router
- `frontend/package.json` - Added test scripts and @mui/icons-material dependency

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| Oct 28, 2025 | 1.0 | Story created from PRD | Sarah (PO) |
| Oct 28, 2025 | 1.1 | Story implemented - Dashboard UI complete with all 6 navigation cards, document counts, and routing | James (Dev) |
