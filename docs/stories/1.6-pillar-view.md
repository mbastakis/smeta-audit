# Story 1.6: Pillar View with Document List

## Status
**Ready for Review**

## Story
**As an** HR manager,  
**I want** to view all documents in a specific pillar organized by category tabs,  
**so that** I can find documents quickly during the audit.

## Acceptance Criteria
1. Pillar view component renders with breadcrumb navigation: "Home > Pillar X: [Name]"
2. Four category tabs displayed horizontally: Policies, Procedures, Forms, Evidence (using Material-UI Tabs component)
3. Tab click fetches documents from `/api/documents/pillar/:pillar/category/:category` and displays in table
4. Document table has columns: Icon (file type), Name, Upload Date (formatted: MMM DD, YYYY), Size (human-readable: KB/MB), Actions (View, Delete icons)
5. Empty state: If no documents in category, show message "No documents uploaded yet" with "Upload" button
6. View icon click: Opens document viewer (Story 1.7)
7. Delete icon click: Shows confirmation dialog "Delete [filename]?", on confirm calls DELETE endpoint and refreshes list
8. Upload button scoped to current pillar (pre-selects pillar in upload modal)
9. Loading state: Shows skeleton rows while fetching documents
10. Back button/breadcrumb click navigates to dashboard

## Tasks / Subtasks
- [x] Create PillarView component with tabs
- [x] Implement breadcrumb navigation
- [x] Create DocumentTable component
- [x] Fetch and display documents per category
- [x] Implement delete with confirmation
- [x] Add empty states and loading states
- [x] Format dates and file sizes

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| Oct 28, 2025 | 1.0 | Story created from PRD | Sarah (PO) |

---

## Dev Agent Record

### Agent Model Used
- Claude 3.5 Sonnet (2024-10-22)

### Implementation Summary
Successfully implemented Pillar View with category tabs, document list table, breadcrumb navigation, and delete functionality.

### Completion Notes
- Created PillarView page component with Material-UI Tabs for category navigation
- Implemented breadcrumb navigation with Home link and current pillar display
- Document table displays file icon (color-coded by type), name, upload date, size, and actions
- Delete functionality with confirmation dialog
- Empty state with "No documents uploaded yet" message and Upload button
- Loading state with skeleton placeholders
- Date formatting to "MMM DD, YYYY" format
- File size formatting to human-readable KB/MB format
- File icon color-coding (PDF=red, DOCX=blue, XLSX=green, Images=purple)
- Integrated with documentService for fetching and deleting documents
- Route registered in App.tsx as /pillar/:pillarId

### File List
**New Files Created:**
- `frontend/src/pages/PillarView.tsx` - Main pillar view component with tabs and document list
- `frontend/src/utils/formatters.ts` - Utility functions for formatting dates, file sizes, and file icon colors

**Modified Files:**
- `frontend/src/App.tsx` - Added PillarView route
- `frontend/src/services/documentService.ts` - Added getDocumentsByPillarAndCategory() and deleteDocument() methods

### Debug Log References
None - implementation completed without blocking issues.

### Change Log
| Timestamp | Change | Reason |
|-----------|--------|--------|
| 2025-10-28 19:30 | Implemented PillarView component | Created pillar view with tabs, table, breadcrumbs per frontend spec |
| 2025-10-28 19:30 | Added formatter utilities | Date and file size formatting utilities |
| 2025-10-28 19:30 | Added document service methods | API integration for fetching and deleting documents |
