# Story 3.2: Repository Cleanup & Technical Debt Resolution

**Story ID:** 3.2  
**Epic:** Epic 3 - Post-MVP Enhancements  
**Status:** Draft  
**Priority:** High  
**Estimated Effort:** 4-6 hours  
**Created:** October 29, 2025  
**Author:** Sarah (Product Owner), based on analysis by Winston (Architect)

---

## User Story

**As a** developer,  
**I want** the repository cleaned of obsolete files, properly organized, and aligned with architectural standards,  
**so that** the codebase is maintainable, new developers can onboard easily, and the project follows its documented architecture.

---

## Business Context

The SMETA Compliance Platform has accumulated technical debt from parallel development tracks (web + electron), rapid MVP development, and iterative feature additions. The repository currently contains:

- **19 obsolete electron scripts** from merged development branch
- **5 temporary PDF.js debugging scripts** that should be removed
- **Misplaced documentation** (3 MD files at root should be in docs/)
- **Missing production deployment script** (START_PLATFORM.bat specified in architecture but not created)
- **Configuration inconsistencies** (port mismatches, database location drift)
- **20+ uncommitted file changes** creating confusion about work status
- **Ambiguous resources directory** with potential data privacy concerns

This cleanup is **high-priority post-MVP work** that will:
- Enable proper production deployment per architecture specification
- Reduce confusion for current and future developers
- Align implementation with documented architecture
- Remove potential data privacy risks
- Establish professional repository hygiene

---

## Architecture Alignment

### Current State (Problems):
‚ùå Missing START_PLATFORM.bat (architecture.md lines 600-635)  
‚ùå Port mismatch (architecture says 5000, implementation uses 5001)  
‚ùå Database location drift (architecture says data/smeta.db, actual is backend/database.db)  
‚ùå Undocumented features (KPI uploads, unzipper dependency not in tech stack)  
‚ùå 40+ files at root level (unprofessional, cluttered)  
‚ùå Electron artifacts still present despite merge completion  

### Target State (Solutions):
‚úÖ START_PLATFORM.bat exists and works per specification  
‚úÖ Port configuration standardized and documented (chose 5001 as reality)  
‚úÖ Database location matches architecture  
‚úÖ All features documented in architecture tech stack  
‚úÖ ~12 essential files at root (package.json, README, .gitignore, etc.)  
‚úÖ Electron artifacts removed, clean electron deployment option documented  

---

## Acceptance Criteria

### 1. Electron Artifacts Removed üóëÔ∏è

- [ ] **Delete .electron-temp/ directory** (entire contents)
  - Verify: Directory no longer exists
  
- [ ] **Delete 18 electron-related scripts from root:**
  ```
  build-all-platforms.sh
  build-electron-frontend.sh
  copy-data-to-electron.sh
  kill-and-launch.sh
  launch-electron.sh
  rebuild-and-launch.sh
  rebuild-electron.sh
  quick-rebuild.sh
  final-test-electron.sh
  electron-frontend.env
  ```
  - Verify: No .sh scripts at root except start/setup scripts
  
- [ ] **Update .gitignore** to prevent re-addition:
  ```gitignore
  # Temporary electron build artifacts
  .electron-temp/
  *-electron-*.sh
  electron-frontend.env
  ```
  
- [ ] **Verify no broken references** - Search codebase for references to deleted files
  - Run: `git grep "electron-temp"` (should return no results)
  - Run: `git grep "build-electron"` (should return no results)

**Definition of Done:** Zero electron scripts remain at root, .electron-temp/ deleted, no broken references in code.

---

### 2. Temporary Debugging Scripts Removed üêõ

- [ ] **Delete PDF.js troubleshooting scripts:**
  ```
  fix-pdf-cdn.js
  fix-pdf-paths.js
  fix-pdf-viewer.sh
  sync-pdf-fix.js
  test-pdf-fix.sh
  ```
  
- [ ] **Delete test artifact files:**
  ```
  test-file.txt
  test-display-name.txt
  test-unified.sh
  ```
  
- [ ] **Update .gitignore:**
  ```gitignore
  # Temporary test files
  test-*.txt
  *-fix.js
  *-fix.sh
  ```

**Definition of Done:** Root directory contains no *-fix.* or test-*.* files, patterns added to .gitignore.

---

### 3. Documentation Properly Organized üìù

- [ ] **Create docs/process/ directory** for development process documentation

- [ ] **Move process documentation:**
  ```
  MERGE_COMPLETE.md              ‚Üí docs/process/MERGE_COMPLETE.md
  MERGE_STRATEGY.md              ‚Üí docs/process/MERGE_STRATEGY.md
  ELECTRON_IMPLEMENTATION_GUIDE.md ‚Üí docs/process/ELECTRON_IMPLEMENTATION_GUIDE.md
  ```
  
- [ ] **Update any references to moved files:**
  - Search for links in other docs: `git grep "MERGE_COMPLETE.md"`
  - Update links to use new paths
  
- [ ] **Verify README.md references are correct:**
  - Check all documentation links work
  - Update any relative paths

**Definition of Done:** Only README.md remains at root, all process docs in docs/process/, all links updated and working.

---

### 4. Production Deployment Scripts Created ‚úÖ

- [ ] **Create START_PLATFORM.bat** (per architecture.md specification):
  ```batch
  @echo off
  cls
  echo ========================================
  echo   SMETA Compliance Platform
  echo   Starting application...
  echo ========================================
  
  REM Check if Node.js is installed
  node --version >nul 2>&1
  if errorlevel 1 (
      echo ERROR: Node.js is not installed!
      pause
      exit /b 1
  )
  
  REM Navigate to backend directory
  cd /d "%~dp0backend"
  
  REM Set environment to production
  set NODE_ENV=production
  
  REM Start the server
  echo Starting server on http://localhost:5001...
  start "SMETA Platform Server" /MIN cmd /k "node dist/server.js"
  
  REM Wait for server to start
  timeout /t 3 /nobreak >nul
  
  REM Open browser
  start http://localhost:5001
  
  echo.
  echo Platform is running!
  echo Close the server window to stop the application.
  pause
  ```
  
- [ ] **Create start-platform.sh** (Mac/Linux equivalent):
  ```bash
  #!/bin/bash
  
  echo "========================================"
  echo "  SMETA Compliance Platform"
  echo "  Starting application..."
  echo "========================================"
  
  # Check if Node.js is installed
  if ! command -v node &> /dev/null; then
      echo "ERROR: Node.js is not installed!"
      exit 1
  fi
  
  # Navigate to backend directory
  cd "$(dirname "$0")/backend"
  
  # Set environment to production
  export NODE_ENV=production
  
  # Start the server
  echo "Starting server on http://localhost:5001..."
  node dist/server.js &
  SERVER_PID=$!
  
  # Wait for server to start
  sleep 3
  
  # Open browser (Mac)
  if [[ "$OSTYPE" == "darwin"* ]]; then
      open http://localhost:5001
  # Open browser (Linux)
  elif [[ "$OSTYPE" == "linux-gnu"* ]]; then
      xdg-open http://localhost:5001
  fi
  
  echo ""
  echo "Platform is running! (PID: $SERVER_PID)"
  echo "Press Ctrl+C to stop the server."
  
  # Wait for Ctrl+C
  trap "kill $SERVER_PID; exit" INT
  wait $SERVER_PID
  ```
  
- [ ] **Make scripts executable:**
  ```bash
  chmod +x start-platform.sh
  ```
  
- [ ] **Test START_PLATFORM.bat:**
  - Double-click on Windows
  - Server starts successfully
  - Browser opens to http://localhost:5001
  - Dashboard loads correctly
  - All features work (upload, view, search, CAPA)
  
- [ ] **Test start-platform.sh:**
  - Run `./start-platform.sh` on Mac/Linux
  - Verify same behavior as Windows script

**Definition of Done:** Both scripts exist, are tested, and successfully start the production application on their respective platforms.

---

### 5. Configuration Standardized ‚öôÔ∏è

- [ ] **Standardize port to 5001** (current reality):
  - Update `docs/architecture.md` port references (5000 ‚Üí 5001)
  - Add note in architecture explaining port choice
  - Verify backend/.env has `PORT=5001`
  - Verify frontend uses `VITE_API_URL=http://localhost:5001/api`
  
- [ ] **Align database location:**
  **Decision needed:** Choose one option:
  
  **Option A: Match architecture (data/smeta.db)**
  - Move `backend/database.db` ‚Üí `data/smeta.db`
  - Update backend/src/database/db.ts to use `../data/smeta.db`
  - Test database connection works
  
  **Option B: Update architecture (backend/database.db)**
  - Update docs/architecture.md database path
  - No code changes needed
  
  **Recommendation:** Option A (match architecture intent)
  
- [ ] **Document configuration in README:**
  ```markdown
  ## Configuration
  
  ### Environment Variables
  
  **Backend (.env in backend/):**
  - PORT=5001 (API server port)
  - DB_PATH=../data/smeta.db (SQLite database path)
  - UPLOAD_DIR=./uploads (document storage)
  
  **Frontend (.env in frontend/):**
  - VITE_API_URL=http://localhost:5001/api (backend API endpoint)
  ```

**Definition of Done:** Port and database paths consistent across all config files and documentation, documented in README.

---

### 6. Resources Directory Resolved üìÅ

**Investigation Required:**

- [ ] **Determine status of Cretamel data** in resources/:
  - [ ] Ask: Is this real client data or test/sample data?
  - [ ] Ask: Is this data required for the application to function?
  - [ ] Ask: Are there data privacy concerns?

**Then execute appropriate action:**

**If Test/Sample Data:**
- [ ] Move to `test-data/cretamel-samples/`
- [ ] Remove duplicate versions (keep only one Culture Insights package)
- [ ] Document purpose in README:
  ```markdown
  ## Test Data
  
  The `test-data/cretamel-samples/` directory contains sample Cretamel data for testing:
  - Culture Insights reports
  - Climate surveys
  - SMETA evidence examples
  ```

**If Real Client Data (Privacy Risk):**
- [ ] **Delete immediately** (do not commit to git)
- [ ] Add to .gitignore: `resources/`
- [ ] Document removal in commit message
- [ ] Notify team about data privacy policy

**If Required Application Resources:**
- [ ] Keep in place
- [ ] Document purpose in README under "Application Resources" section
- [ ] Remove duplicates if any exist

**Definition of Done:** Resources directory purpose is clear, duplicates removed, data privacy concerns addressed, status documented in README.

---

### 7. Git Status Cleaned üîÑ

- [ ] **Review all 20+ modified files:**
  ```bash
  git status
  git diff backend/
  git diff frontend/
  git diff docs/
  ```
  
- [ ] **For each modified file, determine:**
  - **Complete feature?** ‚Üí Commit with meaningful message
  - **Temporary debugging?** ‚Üí Revert changes
  - **Work-in-progress?** ‚Üí Create feature branch or stash
  
- [ ] **Commit completed features:**
  ```bash
  # Example commits
  git add backend/src/routes/kpis.ts backend/package.json
  git commit -m "feat: Add KPI upload and unzip functionality
  
  - Add unzipper dependency for KPI report processing
  - Implement /api/kpis endpoint for zip upload
  - Store unzipped KPI files in uploads/kpis/
  
  Closes #XX"
  
  git add frontend/src/components/Footer.tsx
  git commit -m "feat: Add footer component with audit date display
  
  - Professional footer with copyright and version
  - Displays audit date prominently
  - Responsive layout
  
  Related to Story 2.8"
  ```
  
- [ ] **Revert temporary changes:**
  ```bash
  git restore <file-with-debugging-code>
  ```
  
- [ ] **Verify clean status:**
  ```bash
  git status  # Should show "working tree clean"
  ```

**Definition of Done:** Git status shows "working tree clean", all completed features committed with meaningful messages, no temporary debugging code remains.

---

### 8. Architecture Documentation Updated üìã

- [ ] **Update docs/architecture.md Tech Stack table** to add:
  | Category | Technology | Version | Purpose | Rationale |
  |----------|-----------|---------|---------|-----------|
  | **File Unzip** | unzipper | 0.10.14 | Extract KPI report zip files | Enables upload of packaged KPI dashboards as single zip file |
  
- [ ] **Document port change** in architecture.md:
  ```markdown
  ### Port Configuration Change
  
  **Architectural Decision Record:**
  - **Original Specification:** Port 5000
  - **Current Implementation:** Port 5001
  - **Reason for Change:** Port 5000 conflict with macOS AirPlay Receiver service
  - **Date Changed:** [Date]
  - **Impact:** Minimal - configuration change only, no code logic affected
  ```
  
- [ ] **Document electron deployment option** in architecture.md:
  ```markdown
  ### Deployment Options
  
  **Primary: Web Application (localhost:5001)**
  - Recommended for standard deployment
  - Uses START_PLATFORM.bat (Windows) or start-platform.sh (Mac/Linux)
  
  **Alternative: Electron Desktop Application**
  - Optional packaging for desktop distribution
  - Process documented in docs/process/ELECTRON_IMPLEMENTATION_GUIDE.md
  - Use when: Auditor prefers desktop app icon vs browser
  ```
  
- [ ] **Update PRD to document Epic 3:**
  Add to docs/prd.md:
  ```markdown
  ## Epic 3: Post-MVP Enhancements
  
  **Epic Goal:** Refine and polish the application based on initial audit feedback and usage, adding convenience features and resolving technical debt.
  
  **Estimated Time:** 6-8 hours
  
  ### Stories:
  - 3.1: KPIs Dashboard with Zip Upload
  - 3.2: Repository Cleanup & Technical Debt Resolution
  - 2.8: Footer Component with Audit Date Display
  - 2.9: Frontend Spec Alignment
  - 2.10: Document Display Names Enhancement
  ```

**Definition of Done:** Architecture.md and PRD accurately reflect current implementation, all features documented, architectural decisions recorded.

---

### 9. Enhanced .gitignore üö´

- [ ] **Update .gitignore with comprehensive patterns:**
  ```gitignore
  # Dependency directories
  node_modules/
  
  # Build outputs
  dist/
  build/
  *.js.map
  
  # Environment files
  .env
  .env.local
  .env.production
  
  # Database files
  data/*.db
  data/*.db-shm
  data/*.db-wal
  backend/database.db
  backend/*.db
  
  # Upload directory (user documents)
  backend/uploads/
  
  # Logs
  logs/
  *.log
  npm-debug.log*
  
  # OS files
  .DS_Store
  Thumbs.db
  desktop.ini
  
  # IDE files
  .vscode/
  .idea/
  *.swp
  *.swo
  *~
  
  # Temporary files
  tmp/
  temp/
  *.tmp
  
  # Test artifacts
  test-*.txt
  test-*.sh
  
  # Electron build artifacts
  .electron-temp/
  *-electron-*.sh
  electron-frontend.env
  
  # Debugging scripts
  *-fix.js
  *-fix.sh
  sync-*.js
  
  # Resources (if determined to be temp/test data)
  # resources/  # Uncomment if not required for application
  ```
  
- [ ] **Verify gitignore works:**
  ```bash
  # Create test file that should be ignored
  touch test-debug.txt
  git status  # Should NOT show test-debug.txt
  rm test-debug.txt
  
  # Verify database ignored
  touch backend/database.db
  git status  # Should NOT show database.db
  ```

**Definition of Done:** .gitignore comprehensively covers all temporary, generated, and sensitive files; tested patterns work correctly.

---

### 10. BMAD Framework Cleanup ü§ñ

- [ ] **Remove inapplicable templates:**
  ```
  .bmad-core/templates/brownfield-architecture-tmpl.yaml
  .bmad-core/templates/brownfield-prd-tmpl.yaml
  ```
  Rationale: Project is explicitly greenfield (per docs/prd.md line 29)
  
- [ ] **Remove obsolete documentation:**
  ```
  .bmad-core/working-in-the-brownfield.md
  .bmad-core/enhanced-ide-development-workflow.md  (not in install manifest)
  ```
  
- [ ] **Verify remaining templates are applicable:**
  - story-tmpl.yaml ‚úì
  - architecture-tmpl.yaml ‚úì
  - prd-tmpl.yaml ‚úì (greenfield version)
  - competitor-analysis-tmpl.yaml ‚úì
  - front-end-architecture-tmpl.yaml ‚úì
  
- [ ] **Update core-config.yaml if needed:**
  - Remove references to deleted templates
  - Verify all paths are correct

**Definition of Done:** Only applicable BMAD templates remain, no brownfield-specific files, core-config.yaml accurate.

---

### 11. Testing & Verification ‚úÖ

- [ ] **Fresh clone test:**
  ```bash
  # Clone to new directory
  cd /tmp
  git clone <repo-url> smeta-test
  cd smeta-test
  
  # Follow README instructions exactly
  npm install
  cd backend && npm install && cd ..
  cd frontend && npm install && cd ..
  ```
  
- [ ] **Development mode works:**
  ```bash
  # Terminal 1
  cd backend
  npm run dev
  # Should start on port 5001 without errors
  
  # Terminal 2
  cd frontend
  npm run dev
  # Should start on port 3000, proxy to backend
  
  # Browser: http://localhost:3000
  # Verify: Dashboard loads, can upload document
  ```
  
- [ ] **Production build works:**
  ```bash
  cd frontend
  npm run build
  # Verify: dist/ directory created, no errors
  
  cd ../backend
  npm run build
  # Verify: dist/ directory created, TypeScript compiles
  ```
  
- [ ] **Production script works:**
  - **Windows:** Double-click START_PLATFORM.bat
  - **Mac/Linux:** Run `./start-platform.sh`
  - Verify:
    - Server starts
    - Browser opens to http://localhost:5001
    - Dashboard loads
    - Can upload document
    - Can view PDF
    - Can search
    - Can manage CAPA
    - No console errors
  
- [ ] **All API endpoints respond correctly:**
  ```bash
  # Health check
  curl http://localhost:5001/api/health
  # Expected: {"status":"ok"}
  
  # Documents count
  curl http://localhost:5001/api/documents/counts
  # Expected: JSON with counts by pillar/category
  
  # Search
  curl "http://localhost:5001/api/search?q=policy"
  # Expected: Array of matching documents
  ```
  
- [ ] **No broken file references:**
  ```bash
  # Search for references to deleted files
  git grep "electron-temp"
  git grep "MERGE_COMPLETE" --exclude-dir=docs/process
  git grep "fix-pdf"
  # All should return no results (or only valid references)
  ```

**Definition of Done:** Application works perfectly from fresh clone, both dev and prod modes, all endpoints respond, no broken references.

---

### 12. Final Validation üìä

- [ ] **Root directory file count < 12:**
  ```bash
  ls -1 | wc -l
  # Should be ‚â§ 12 files
  
  # Essential files only:
  # - package.json
  # - package-lock.json
  # - README.md
  # - .gitignore
  # - LICENSE
  # - AGENTS.md
  # - opencode.jsonc
  # - START_PLATFORM.bat
  # - start-platform.sh
  # - tsconfig.json
  ```
  
- [ ] **Zero shell scripts at root except start/setup:**
  ```bash
  ls *.sh
  # Should only show: start-platform.sh
  ```
  
- [ ] **All documentation in docs/ or .bmad-core/:**
  ```bash
  ls *.md
  # Should only show: README.md, AGENTS.md
  ```
  
- [ ] **Architecture alignment checklist:**
  - [x] START_PLATFORM.bat exists and works
  - [x] Port configuration matches docs (5001)
  - [x] Database location matches architecture
  - [x] Tech stack table complete
  - [x] Project structure matches specification
  - [x] All features documented
  
- [ ] **Team review and approval:**
  - [ ] Architect reviews changes
  - [ ] Developer tests on local machine
  - [ ] Product Owner approves cleanup
  - [ ] Changes documented in CHANGELOG or commit messages

**Definition of Done:** All validation criteria met, team approves, ready to merge and deploy.

---

## Technical Notes

### Files to Delete (Complete List)

**Electron Artifacts (10 files + directory):**
```
.electron-temp/                    # Directory with all contents
build-all-platforms.sh
build-electron-frontend.sh
copy-data-to-electron.sh
kill-and-launch.sh
launch-electron.sh
rebuild-and-launch.sh
rebuild-electron.sh
quick-rebuild.sh
final-test-electron.sh
electron-frontend.env
```

**Temporary Scripts (8 files):**
```
fix-pdf-cdn.js
fix-pdf-paths.js
fix-pdf-viewer.sh
sync-pdf-fix.js
test-pdf-fix.sh
test-file.txt
test-display-name.txt
test-unified.sh
```

**BMAD Templates (3 files):**
```
.bmad-core/templates/brownfield-architecture-tmpl.yaml
.bmad-core/templates/brownfield-prd-tmpl.yaml
.bmad-core/working-in-the-brownfield.md
```

**Total to delete: 21 files + 1 directory**

### Files to Move (3 files)

```
MERGE_COMPLETE.md              ‚Üí docs/process/MERGE_COMPLETE.md
MERGE_STRATEGY.md              ‚Üí docs/process/MERGE_STRATEGY.md
ELECTRON_IMPLEMENTATION_GUIDE.md ‚Üí docs/process/ELECTRON_IMPLEMENTATION_GUIDE.md
```

### Files to Create (2 files)

```
START_PLATFORM.bat             # Windows production launcher
start-platform.sh              # Mac/Linux production launcher
```

---

## Dependencies

### Before This Story:
- ‚úÖ Story 3.1: KPIs Dashboard (complete)
- ‚úÖ All MVP features working (Epics 1-2 complete)
- ‚úÖ Application deployed and tested

### Blocks:
- None (cleanup can happen anytime post-MVP)

### Related Stories:
- Story 2.8: Footer Component (will be documented in Epic 3)
- Story 2.9: Frontend Spec Alignment (will be documented in Epic 3)
- Story 2.10: Document Display Names (will be documented in Epic 3)

---

## Testing Strategy

### Unit Testing:
- Not applicable (file operations, no business logic)

### Integration Testing:
- Verify all API endpoints respond after cleanup
- Test database connection with new path
- Test file upload to uploads directory

### Manual Testing:
- Fresh repository clone test (critical)
- Production script testing on Windows and Mac/Linux
- All user workflows (upload, view, search, CAPA)

### Regression Testing:
- Complete audit scenario walkthrough
- All features from Epics 1-2 still work
- No broken links or 404 errors

---

## Risk Assessment

### Low Risk Factors ‚úÖ:
- No business logic changes
- Only removing obsolete files
- All changes are reversible (git history)
- Can test thoroughly before commit

### Medium Risk Factors ‚ö†Ô∏è:
- Database path change could break app if not tested properly
- Port change might affect deployment scripts
- Moving files might break links in documentation

### Mitigation Strategy:
1. **Test extensively** before committing
2. **Fresh clone test** is mandatory
3. **Keep backup** of current state before cleanup
4. **Document all changes** in commit messages
5. **Gradual approach** - commit in logical groups (electron removal, doc move, script creation)

---

## Definition of Done

This story is complete when:

1. ‚úÖ All 21 obsolete files deleted + .electron-temp/ directory removed
2. ‚úÖ All 3 process docs moved to docs/process/
3. ‚úÖ START_PLATFORM.bat and start-platform.sh created and tested
4. ‚úÖ Port and database configuration standardized
5. ‚úÖ Resources directory resolved (moved, deleted, or documented)
6. ‚úÖ Git status shows clean working tree
7. ‚úÖ Architecture.md and PRD updated to match reality
8. ‚úÖ .gitignore enhanced with comprehensive patterns
9. ‚úÖ BMAD framework cleaned of brownfield templates
10. ‚úÖ Fresh clone test passes on Windows and Mac/Linux
11. ‚úÖ Development mode works without errors
12. ‚úÖ Production mode works without errors
13. ‚úÖ All API endpoints respond correctly
14. ‚úÖ No broken file references or 404 errors
15. ‚úÖ Root directory has < 12 files
16. ‚úÖ Team reviews and approves changes
17. ‚úÖ Changes committed with meaningful messages
18. ‚úÖ README updated with accurate instructions

---

## Success Metrics

**Measurable Outcomes:**
- Root directory files: 40+ ‚Üí ~12 (70% reduction)
- Shell scripts at root: 20+ ‚Üí 2 (90% reduction)
- Git uncommitted files: 20+ ‚Üí 0 (100% clean)
- Architecture drift issues: 8 ‚Üí 0 (100% alignment)
- Fresh clone to running app: < 5 minutes
- New developer onboarding confusion: Significantly reduced

**Qualitative Outcomes:**
- Professional, clean repository appearance
- Confidence in codebase quality
- Easier maintenance and debugging
- Clear separation of concerns (docs vs code vs process)
- Alignment with architectural intent

---

## Notes for Developer

### Recommended Approach:

**Phase 1: Backup & Preparation (30 min)**
```bash
# Create backup branch
git checkout -b cleanup/pre-3.2-backup
git push origin cleanup/pre-3.2-backup

# Create working branch
git checkout main
git checkout -b feature/3.2-cleanup
```

**Phase 2: Deletions (1 hour)**
```bash
# Delete electron artifacts
rm -rf .electron-temp/
rm build-all-platforms.sh build-electron-frontend.sh ...
# (delete all listed files)

# Delete temporary scripts
rm fix-pdf-*.js fix-pdf-*.sh sync-*.js test-*.*

# Commit
git add -A
git commit -m "chore: Remove obsolete electron artifacts and temp scripts

- Delete .electron-temp/ directory
- Remove 18 electron build scripts
- Remove 5 PDF debugging scripts  
- Remove 3 test artifact files

Rationale: Post-merge cleanup, these files are no longer needed.
See Story 3.2 AC#1 and AC#2."
```

**Phase 3: File Moves (30 min)**
```bash
# Create process docs directory
mkdir -p docs/process/

# Move files
git mv MERGE_COMPLETE.md docs/process/
git mv MERGE_STRATEGY.md docs/process/
git mv ELECTRON_IMPLEMENTATION_GUIDE.md docs/process/

# Update any references (search and replace)

# Commit
git commit -m "docs: Organize process documentation in docs/process/

- Move MERGE_COMPLETE.md to docs/process/
- Move MERGE_STRATEGY.md to docs/process/
- Move ELECTRON_IMPLEMENTATION_GUIDE.md to docs/process/
- Update all references to new paths

See Story 3.2 AC#3."
```

**Phase 4: Script Creation (1.5 hours)**
```bash
# Create START_PLATFORM.bat (copy from AC#4)
# Create start-platform.sh (copy from AC#4)
chmod +x start-platform.sh

# Test on Windows
START_PLATFORM.bat
# Verify app starts

# Test on Mac/Linux
./start-platform.sh
# Verify app starts

# Commit
git add START_PLATFORM.bat start-platform.sh
git commit -m "feat: Add production startup scripts for Windows and Mac/Linux

- Create START_PLATFORM.bat (Windows)
- Create start-platform.sh (Mac/Linux)
- Both scripts start backend and open browser
- Tested and verified working

Implements architecture.md specification (lines 600-635).
See Story 3.2 AC#4."
```

**Phase 5: Configuration & Documentation (1.5 hours)**
```bash
# Update configurations (port, database path)
# Update architecture.md
# Update PRD
# Update README
# Update .gitignore

# Test everything still works

# Commit
git add -A
git commit -m "docs: Standardize configuration and update documentation

- Standardize port to 5001 across all configs
- Update architecture.md to match implementation
- Document KPI features and unzipper dependency
- Add comprehensive .gitignore patterns
- Update README with accurate instructions

See Story 3.2 AC#5, AC#8, AC#9."
```

**Phase 6: Git Cleanup (1 hour)**
```bash
# Review and commit all outstanding changes
git status
git diff backend/
# ... commit logical groups with meaningful messages

# Final commit when working tree clean
git status  # Should show "working tree clean"
```

**Phase 7: Testing & Validation (1 hour)**
```bash
# Fresh clone test
cd /tmp
git clone <your-feature-branch> smeta-test
cd smeta-test
# Follow README instructions
# Verify everything works

# If all passes, ready to merge!
```

### Time Breakdown:
- Backup & Preparation: 30 min
- Deletions: 1 hour
- File Moves: 30 min
- Script Creation: 1.5 hours
- Config & Docs: 1.5 hours
- Git Cleanup: 1 hour
- Testing: 1 hour
- **Total: 6 hours**

### Tips:
- **Commit frequently** in logical groups
- **Test after each phase** before moving to next
- **Keep backup branch** until confident cleanup is complete
- **Use git mv** instead of mv for better git history
- **Write clear commit messages** explaining the "why"
- **Ask for help** if resources/ directory status is unclear

---

## Approval

**Product Owner:** Sarah ‚úì (Draft approved pending architect review)  
**Architect:** [Pending Winston's review]  
**Development Team:** [Pending assignment]

**Status:** Ready for development  
**Next Steps:** 
1. Architect reviews this story
2. Developer assigned to Story 3.2
3. Developer follows recommended approach
4. Code review after completion
5. Merge to main after approval

---

**Story Created:** October 29, 2025  
**Last Updated:** October 29, 2025  
**Story Points:** 8 (Large - 4-6 hours estimated)  
**Sprint:** Post-MVP Enhancements

---

**END OF STORY 3.2**
